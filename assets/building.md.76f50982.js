import{_ as e,o as a,c as t,Q as r}from"./chunks/framework.edbfdbf1.js";const i="/assets/v3unit.cc8e3c6d.webp",l="/assets/miniv2unit.8632e787.webp",f=JSON.parse('{"title":"Пайка, сборка, подключение","description":"","frontmatter":{},"headers":[],"relativePath":"building.md","filePath":"building.md"}'),o={name:"building.md"},n=r('<h1 id="паика-сборка-подключение" tabindex="-1">Пайка, сборка, подключение <a class="header-anchor" href="#паика-сборка-подключение" aria-label="Permalink to &quot;Пайка, сборка, подключение&quot;">​</a></h1><h2 id="база" tabindex="-1">База <a class="header-anchor" href="#база" aria-label="Permalink to &quot;База&quot;">​</a></h2><p>На дрон устанавливается <strong>unit</strong> с подключенными к нему антенной(ами) и камерой. Unit (он же юнит) - это приемо-передающий модуль системы, который отправляет картинку с дрона и MSP телеметрию на очки или VRX.</p><p>Вся электроника (очки/VRX, юнит, камера) должна быть из семейства Avatar (аватар), компоненты от других цифровых видеосистем, даже несмотря на идентичные разъемы, <strong>не совместимы</strong>, исключение составляет Fatshark Dominator HD/Recon HD (очки и шлем, совместимые с аватар системой).</p><p>Юнит также может называться <strong>VTX</strong> - VideoTX, под Tx в FPV обычно подразумевают передатчик (transmitter).</p><p><strong>VRX</strong> расшифровывается как VideoRX, под RX в FPV обычно подразумевают приемник (receiver), но не стоит забывать, что цифровая связь - двунаправленная, потому передающий модуль есть в приемнике, и юнит не совсем корректно называть только передатчиком.</p><p>Обусловимся, что далее для простоты под очками будут подразумеваться очки, шлем, VRX.</p><p>Для взаимодействия юнита с очками необходимо произвести <strong>bind</strong> (он же бинд, биндинг) - процесс привязки. Эта процедура будет описана ниже. Бинд юнита работает только с одними очками, если забиндить юнит с другими очками, бинд с первыми очками будет потерян. Одни очки в свою очередь могут быть забинжены с огромным количеством юнитов.</p><p>Для того, чтобы другой человек мог наблюдать картинку, необходимо выводить изображение по проводу через hdmi out или использовать режим трансляции.</p><p>Так как система достаточно новая, многие функции появляются постепенно, и также постепенно исправляются имеющиеся проблемы. Для работы того или иного функционала должна быть нужная версия прошивки. Рекомендуется использовать последние стабильные версии прошивки. Прошивки ставятся как на юнит, так и на очки, версии могут отличаться, но в таком случае при каждом включении очком будет появляться предупреждение, что версии отличаются, и какая-то часть функционала может работать некорректно.</p><p>Поверх картинки с камеры в очках будет отображаться <strong>OSD</strong> (On Screen Display). Есть OSD очков по умолчанию, отображающие битрейт, качество связи, предупреждения.. а есть информация, получаемая из полетного контроллера, которую можно настроить в конфигураторе прошивки полетного контроллера. Об этом будет рассказано <a href="https://avatarfpv.ru/building.html#%D0%BD%D0%B0%D1%81%D1%82%D1%80%D0%BE%D0%B8%D0%BA%D0%B0-osd" target="_blank" rel="noreferrer">здесь</a>.</p><h2 id="что-куда-паять" tabindex="-1">Что куда паять? <a class="header-anchor" href="#что-куда-паять" aria-label="Permalink to &quot;Что куда паять?&quot;">​</a></h2><p>На юните есть 4 пина для подключения к дрону:</p><p><strong>Vin</strong> (Voltage INput) - &quot;плюс&quot; для питания, диапазон напряжения зависит от конкретного юнита (ЧИТАЙТЕ ОПИСАНИЕ ВАШЕГО ЮНИТА). Vin подключается к:</p><ul><li>выходу <strong>BEC</strong> (он же bec, бек/бэк, стабилизатор напряжения, понижающий модуль), если на борту есть такой с подходящим для вашего юнита напряжением и током;</li><li>или к источнику питания (батарее, а точнее к имеющимся на вашей электронике пинам линии с напряжением аккумулятора), <strong>ЕСЛИ</strong> ваш юнит может принимать данное напряжение по спецификации, <strong>И</strong> на входе (у &quot;корня&quot; питающих проводов, к которым подключается аккумулятор) стоит LOW ESR конденсатор с рекомендуемыми параметрами (исключением может быть 1S tiny whoop).</li></ul><blockquote><p>В случае, если вы подадите на юнит напряжение больше, чем указано по спецификации, юнит сгорит. Если bec, от которого вы запитали, не расчитан на такую нагрузку (как правило, в описании бека указан максимальный ток), либо юнит не заведется, либо будет перезагружаться, либо бек сгорит.</p></blockquote><p><strong>GND</strong> (GrouND) - &quot;минус&quot; для питания, подключается к GND пину на вашей бортовой электронике.</p><p><strong>TX</strong> - пин для передачи данных, подключается на RX полетного контроллера; Rx на полетнике может быть подписан как R1, R2.., Rx1, Rx2..;</p><p><strong>RX</strong> - пин для приема данных, подключается на TX полетного контроллера; Tx может быть подписан по аналогии с Rx, и стоит учесть, что Tx и Rx должны принаджежать одному и тому же UART (юарту, они же порты) полетника, т.е. должна быть одна и та же цифра в названии пинов, ИНАЧЕ не будет работать OSD.</p><p>В зависимости от юнита <strong>порядок проводов будет отличаться, не перепутайте пины</strong>, чтобы не спалить юнит! Обрати внимание на такую схему в описании приобретенного юнита:</p><p><img src="'+i+'" alt="Юнит третьей версии"><em>Описание подключения <a href="https://caddxfpv.com/collections/walksnail-avatar-system/products/walksnail-avatar-hd-pro-kit-dual-antenna?variant=46963284246830" target="_blank" rel="noreferrer">VTX Avatar V2 Pro Module</a>, пины 5-8</em></p><p><img src="'+l+'" alt="Юнит третьей версии"><em>Описание подключения <a href="https://caddxfpv.com/collections/walksnail-avatar-system/products/walksnail-avatar-hd-mini-1s-lite-kit?variant=44159424528686" target="_blank" rel="noreferrer">Mini VTX V3</a>, как видно, порядок пинов для подключения к ПК другой, как и допустимое напряжение на входе, пины 1-4</em></p><h2 id="спаял-что-делать-дальше" tabindex="-1">Спаял, что делать дальше? <a class="header-anchor" href="#спаял-что-делать-дальше" aria-label="Permalink to &quot;Спаял, что делать дальше?&quot;">​</a></h2><p>Вы спаяли - не спешите собирать &quot;корпус&quot; дрона, если у вас нет легкого доступа к кнопке бинда и разъему для USB шнурка. Следующим шагом является прошивка. Можно было бы все настроить, забиндить, проверить, что работает, а потом при желании прошить, <strong>НО</strong> если вы обновите прошивку, бинд будет потерян, и придется биндить снова. Потому перейдите на страницу <a href="https://avatarfpv.ru/firmware.html" target="_blank" rel="noreferrer">Прошивка</a> и выполните необходимые шаги, после чего переходите к <a href="https://avatarfpv.ru/building.html#Binding" target="_blank" rel="noreferrer">следующему пункту</a>.</p><h2 id="binding" tabindex="-1">Binding <a class="header-anchor" href="#binding" aria-label="Permalink to &quot;Binding&quot;">​</a></h2><p>Для бинда необходимо:</p><ul><li>запитать дрон, очки, дождаться полной загрузки системы;</li><li>нажать кнопку бинда на очках, когда очки начнут пищать;</li><li>нажать кнопку на юните. Очки перестанут пищать, на юните загорится зеленый диод на постоянку, в очках появится картинка с камеры - оборудование забинжено. Бинд выполняется один раз, после перезагрузки остается. Только после обновления прошивки придется заново выполнить процедуру бинда.</li></ul><h2 id="настроика-osd" tabindex="-1">Настройка OSD <a class="header-anchor" href="#настроика-osd" aria-label="Permalink to &quot;Настройка OSD&quot;">​</a></h2><h3 id="betaflight" tabindex="-1">Betaflight <a class="header-anchor" href="#betaflight" aria-label="Permalink to &quot;Betaflight&quot;">​</a></h3><p>Рекомендуется использовать актуальную версию betaflight (4.4+ версия прошивки, 10.9+ версия конфигуратора).</p><h4 id="для-betaflight-4-2-4-3" tabindex="-1">Для betaflight 4.2, 4.3 <a class="header-anchor" href="#для-betaflight-4-2-4-3" aria-label="Permalink to &quot;Для betaflight 4.2, 4.3&quot;">​</a></h4><p>Выполните следующие шаги:</p><ul><li>вставьте usb провод в полетный контроллер и подключите к компьютеру;</li><li>запустите betaflight configurator, нажмите <em>Connect (Подключиться)</em> (<a href="https://avatarfpv.ru/building.html#%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B2%D0%BE%D0%B7%D0%BD%D0%B8%D0%BA%D1%88%D0%B8%D1%85-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC" target="_blank" rel="noreferrer">не удалось подключиться, что делать?</a>);</li><li>проверьте, что на вкладке <em>Configuration (Конфигурация)</em> в <em>Other features (Прочий функционал)</em> включено OSD;</li><li>в разделе <em>Presets (Предустановки)</em> найдите пресет <em>Avatar HD VTXs</em>, нажмите на него;</li><li>в <em>Options (Опции)</em> выберите тот юарт полетного контроллера, к которому припаяли Tx и Rx юнита (например, для Tx2, Rx2 нужно выбрать <em>use displayport on uart2</em>) и <em>map to displayport</em>;</li><li>нажмите <em>Pick (Выбрать)</em> и после этого <em>Save and Reboot (Сохранить и перезагрузить)</em>;</li><li>перейдите на вкладку <em>OSD</em>, в поле <em>Video format (Формат видео)</em> выберите <em>PAL/NTSC</em>, а потом <em>HD</em>, чтобы отобразилось поле корректного размера;</li><li>выберите из списка слева любые желаемые элементы и расставьте их по полю в желаемом расположении;</li><li>нажмите <em>Save</em> (Сохранить);</li><li>включите очки, юнит, дождитесь загрузки системы, и убедитесь, что OSD отображается.</li></ul><h4 id="для-betaflight-4-4-4-5" tabindex="-1">Для betaflight 4.4, 4.5 <a class="header-anchor" href="#для-betaflight-4-4-4-5" aria-label="Permalink to &quot;Для betaflight 4.4, 4.5&quot;">​</a></h4><p>Если вы начинаете с прошивки полетного контроллера, убедитесь, что выставлен флаг OSD (HD). Если вы припаяли питание юнита к выходу ПК, на котором есть VTX Switch/RealPit (возможность включать/выключать питание по тумблеру), также не забудьте флаг PINIO.</p><p>Далее выполните шаги:</p><ul><li>вставьте usb провод в полетный контроллер и подключите к компьютеру;</li><li>запустите betaflight configurator, нажмите <em>Connect (Подключиться)</em> (<a href="https://avatarfpv.ru/building.html#%D1%80%D0%B5%D1%88%D0%B5%D0%BD%D0%B8%D0%B5-%D0%B2%D0%BE%D0%B7%D0%BD%D0%B8%D0%BA%D1%88%D0%B8%D1%85-%D0%BF%D1%80%D0%BE%D0%B1%D0%BB%D0%B5%D0%BC" target="_blank" rel="noreferrer">не удалось подключиться, что делать?</a>);</li><li>проверьте, что на вкладке <em>Configuration (Конфигурация)</em> в <em>Other features (Прочий функционал)</em> включено OSD;</li><li>в разделе <em>Presets (Предустановки)</em> найдите пресет <em>OSD for Fpv.wtf, Dji O3, Avatar HD</em>;</li><li>в <em>Options (Опции)</em> выберите <em>map to displayport</em>, <em>set HDOSD</em> и тот юарт полетного контроллера, к которому припаяли Tx и Rx юнита (например, для Tx2, Rx2 нужно выбрать <em>use displayport and MSP VTX on uart<strong>2</strong></em>);</li><li>нажмите <em>Pick (Выбрать)</em> и после этого <em>Save and Reboot (Сохранить и перезагрузить)</em>;</li><li>перейдите на вкладку <em>OSD</em>, в поле <em>Video format (Формат видео)</em> выберите <em>PAL/NTSC</em>, а потом <em>HD</em>, чтобы отобразилось поле корректного размера;</li><li>выберите из списка слева любые желаемые элементы и расставьте их по полю в желаемом расположении;</li><li>нажмите <em>Save (Сохранить)</em>;</li><li>включите очки, юнит, дождитесь загрузки системы, и убедитесь, что OSD отображается.</li></ul><h3 id="inav" tabindex="-1">INav <a class="header-anchor" href="#inav" aria-label="Permalink to &quot;INav&quot;">​</a></h3><p><em>в процессе написания</em></p><h3 id="ardupilot" tabindex="-1">Ardupilot <a class="header-anchor" href="#ardupilot" aria-label="Permalink to &quot;Ardupilot&quot;">​</a></h3><p><em>в процессе написания</em></p><h3 id="решение-возникших-проблем" tabindex="-1">Решение возникших проблем <a class="header-anchor" href="#решение-возникших-проблем" aria-label="Permalink to &quot;Решение возникших проблем&quot;">​</a></h3><p>Если вы подключаете полетный контроллер к конфигуратору, и в конфигураторе не отображается новый порт:</p><ul><li>убедитесь, что используемый провод имеет data линии (может передавать данные, а не только питать), например, подключив другое устройство или сменив кабель на явно подходящий;</li><li>в случае в Windows 10/11 установлены драйвера (<a href="https://betaflight.com/docs/wiki/archive/Installing-Betaflight#windows-10" target="_blank" rel="noreferrer">https://betaflight.com/docs/wiki/archive/Installing-Betaflight#windows-10</a>), можно запустить <a href="https://impulserc.com/pages/downloads" target="_blank" rel="noreferrer">ImpulseRC Driver Fixer</a> ;</li><li>в случае с Linux выполнены все шаги из <a href="https://betaflight.com/docs/wiki/archive/Installing-Betaflight#platform-specific-linux" target="_blank" rel="noreferrer">инструкции по установке</a>;</li></ul>',44),s=[n];function h(m,p,d,u,D,g){return a(),t("div",null,s)}const b=e(o,[["render",h]]);export{f as __pageData,b as default};
